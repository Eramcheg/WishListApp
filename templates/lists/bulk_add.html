{% extends "base.html" %}
{% block title %}Bulk add — {{ wishlist.title }}{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold mb-4">Bulk add to “{{ wishlist.title }}”</h2>

<form method="post" class="space-y-3">
  {% csrf_token %}
  <div class="form-field">

      <label class="block text-sm text-gray-600">Links (One per line)</label>
      <textarea name="urls_text" rows="10" class="area"
                placeholder="https://example.com/item-1
https://example.com/item-2
https://example.com/item-3">{{ form.data.urls_text|default_if_none:'' }}</textarea>

      <div class="text-sm text-gray-500">
        Hint: each line is a separate link. Empty lines are ignored. Duplicates are skipped.
      </div>
  </div>


  <a href="{{ cancel_url }}" class="btn-secondary btn">Cancel</a>
  <button class="btn-primary btn">Add</button>
</form>

{% if done %}
  <div class="mt-6 p-3 rounded border bg-gray-50">
    <div class="font-medium">Created: {{ created }}, missed: {{ skipped }}</div>
  </div>

  <ul class="mt-4 space-y-1 text-sm">
    {% for ln, url, status, msg in results %}
      <li>
        <span class="text-gray-500">#{{ ln }}</span>
        <code class="px-1">{{ url }}</code>
        — {% if status == "ok" %}
            <span class="text-green-700">{{ msg }}</span>
          {% elif status == "skip" %}
            <span class="text-yellow-700">{{ msg }}</span>
          {% else %}
            <span class="text-red-700">{{ msg }}</span>
          {% endif %}
      </li>
    {% endfor %}
  </ul>
{% endif %}
{% endblock %}
